<html>

<head>
    <meta charset="utf-8">
    <title>FDM Pràctica 5</title>
    <style>
        input[type=text] {
            width: 300px;
        }

        input {
            padding: 6px;
        }

        body,
        html,
        input {
            font-family: sans-serif;
            font-size: 11pt;
        }

        form {
            margin: 20px 0;
        }
    </style>
</head>

<body>
    <script src="js/math.min.js"></script>
    <script src="js/chart.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://wzrd.in/standalone/function-plot@1.14.0"></script>
    Funció d'ona:
    <img src="./img/waveFunction.png">
    <br>
    <div id="plot"></div>
    <br>
    Nombre de nivells: <input type="range" min="1" max="20" value="1" oninput="setSliderNumberInInput()" id="sliderN">
    <input type="number" min="1" max="20" value="1" id="inputNumberN" oninput="setInputNumberInSlider()">
    <br>
    Mida de la capsa: 
    <input type="number" min="1" max="20" value="1" id="inputA" oninput="setSizeBox()">
    <script>
        var a, n;
        a = 1;
        n = 1;
        function draw() {
            try {
                functionPlot({
                    target: '#plot',
                    data: [{
                        fn: "sqrt(2 / " + a + ") * cos((" + n + "pi) * x / " + a + ")",
                        sampler: 'builtIn',  // this will make function-plot use the evaluator of math.js
                        graphType: 'polyline'
                    }]
                });
            }
            catch (err) {
                console.log(err);
                alert(err);
            }
        }

        function setSliderNumberInInput(){
            document.getElementById("inputNumberN").value = document.getElementById("sliderN").value;
            n = document.getElementById("sliderN").value;
            draw();
        }

        function setInputNumberInSlider(){
            document.getElementById("sliderN").value = document.getElementById("inputNumberN").value;
            n = document.getElementById("inputNumberN").value;
            draw();
        }

        function setSizeBox(){
            a = document.getElementById("inputA").value;
            draw();
        }

        draw();
    </script>
</body>

</html>